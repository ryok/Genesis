# 地形評価ツール 出力ディレクトリ

このディレクトリには地形汎化性能評価ツールの実行結果が保存されます。

## 📁 ディレクトリ構成

```
outputs/
├── README.md           # このファイル
├── videos/             # 動画記録
│   ├── failure_cases/  # 失敗事例の動画
│   ├── success_cases/  # 成功事例の動画（もしあれば）
│   └── comparisons/    # 比較分析用動画
├── reports/            # 実験レポート
│   ├── TERRAIN_EVALUATION_REPORT.md    # メイン評価レポート
│   ├── EXPERIMENTAL_RESULTS.json       # 構造化実験データ
│   └── batch_evaluation_*.md           # バッチ実行レポート
└── data/               # ログファイル・実験データ
    ├── steps_level*_*.log              # 段差評価ログ
    ├── slopes_level*_*.log             # 傾斜評価ログ
    └── evaluation_results_*.json       # 評価結果データ
```

## 📊 ファイル形式

### 動画ファイル (.mp4)
- **命名規則**: `{terrain}_level{difficulty}_{timestamp}.mp4`
- **例**: `steps_level2_1690876543.mp4`
- **解像度**: 1280x720 (HD) または 1920x1080 (フルHD)
- **フレームレート**: 30fps

### レポートファイル (.md)
- **Markdown形式**で実験結果をまとめたドキュメント
- **日本語**で記述された分析・考察
- **表・グラフ**を含む詳細な結果表示

### データファイル (.json)
- **構造化された実験データ**（プログラムで処理可能）
- **評価指標**（成功率、移動距離、生存時間など）
- **タイムスタンプ**付きの実験記録

### ログファイル (.log)
- **コンソール出力**の完全記録
- **エラーメッセージ**とスタックトレース
- **デバッグ情報**と実行詳細

## 🔍 結果分析の方法

### 1. 基本的な結果確認
```bash
# 最新の実験レポートを確認
ls -t reports/*.md | head -1 | xargs cat

# 特定地形の結果を確認
grep -r "成功率" reports/
```

### 2. 動画分析
```bash
# 失敗事例の動画を一覧
ls videos/failure_cases/

# 特定レベルの動画を確認
ls videos/*level2*
```

### 3. データ分析
```bash
# JSON形式の結果データを整形表示
python -m json.tool data/evaluation_results_latest.json

# ログファイルからエラーを抽出
grep -i error data/*.log
```

## 📈 典型的な実験結果

### 現在の実験結果（Go2ロボット）

| 地形タイプ | レベル | 難易度 | 成功率 | 平均移動距離 | 典型的失敗パターン |
|-----------|--------|--------|--------|-------------|------------------|
| 段差 | 1 | 5cm | 0% | -0.1m | 1ステップで転倒 |
| 段差 | 2 | 10cm | 0% | -0.53m | 即座に転倒 |
| 段差 | 3 | 15cm | 0% | 0.0m | 初期配置で不安定 |
| 傾斜 | 1 | 6° | 0% | 0.2m | 数ステップ後転倒 |
| 傾斜 | 2 | 11° | 0% | 0.1m | 早期転倒 |
| 傾斜 | 3 | 17° | 0% | 0.0m | 即座に滑落 |

### 失敗の主要因
1. **学習データの限界**: 平面(plane.urdf)のみでの学習
2. **地形汎化能力不足**: 複雑地形への対応力不足
3. **制御パラメータ**: 地形に適した制御設定が必要

## 🎯 改善のための次ステップ

### 1. 学習改善
- 多様な地形での学習データ生成
- Domain Randomizationの適用
- より複雑な地形パターンの導入

### 2. 制御改善
- PD制御パラメータの調整
- 地形適応的な制御戦略
- より洗練された歩行パターン

### 3. 評価改善
- より詳細な失敗分析
- 成功の定義の多様化
- 段階的難易度の細分化

## 🔧 ファイル管理

### 定期的なクリーンアップ
```bash
# 古い動画ファイルを削除（30日以上前）
find videos/ -name "*.mp4" -mtime +30 -delete

# ログファイルを圧縮保存
gzip data/*.log

# 重要でない一時ファイルを削除
find . -name "*temp*" -delete
```

### バックアップ推奨
```bash
# 重要な結果をバックアップ
tar czf terrain_evaluation_backup_$(date +%Y%m%d).tar.gz outputs/
```

---

**注意**: このディレクトリの内容は実験実行により自動生成されます。手動での編集は推奨されません。